-- Database initialization script
CREATE DATABASE IF NOT EXISTS parking_management;
USE parking_management;

-- Create user and grant privileges
CREATE USER IF NOT EXISTS 'parking_user'@'%' IDENTIFIED BY 'parking_password';
GRANT ALL PRIVILEGES ON parking_management.* TO 'parking_user'@'%';
FLUSH PRIVILEGES;

-- The tables will be created automatically by Hibernate
-- This script ensures the database and user exist

-- Insert sample data after tables are created
-- Note: These will be inserted after Hibernate creates the tables
INSERT IGNORE INTO sectors (sector_id, max_capacity, base_price) VALUES 
('A', 100, 12.50),
('B', 100, 15.00),
('C', 100, 18.00),
('D', 100, 10.00);

-- Insert sample parking spots with realistic distribution
INSERT IGNORE INTO parking_spots (spot_number, sector, is_occupied) VALUES 
-- Setor A: 45 vagas ocupadas (45%)
(1, 'A', 1), (2, 'A', 1), (3, 'A', 0), (4, 'A', 1), (5, 'A', 1),
(6, 'A', 0), (7, 'A', 1), (8, 'A', 1), (9, 'A', 0), (10, 'A', 1),
(11, 'A', 1), (12, 'A', 0), (13, 'A', 1), (14, 'A', 1), (15, 'A', 0),
(16, 'A', 1), (17, 'A', 1), (18, 'A', 0), (19, 'A', 1), (20, 'A', 1),
(21, 'A', 0), (22, 'A', 1), (23, 'A', 1), (24, 'A', 0), (25, 'A', 1),
(26, 'A', 1), (27, 'A', 0), (28, 'A', 1), (29, 'A', 1), (30, 'A', 0),
(31, 'A', 1), (32, 'A', 1), (33, 'A', 0), (34, 'A', 1), (35, 'A', 1),
(36, 'A', 0), (37, 'A', 1), (38, 'A', 1), (39, 'A', 0), (40, 'A', 1),
(41, 'A', 1), (42, 'A', 0), (43, 'A', 1), (44, 'A', 1), (45, 'A', 0),
(46, 'A', 1), (47, 'A', 1), (48, 'A', 0), (49, 'A', 1), (50, 'A', 1),
(51, 'A', 0), (52, 'A', 1), (53, 'A', 1), (54, 'A', 0), (55, 'A', 1),
(56, 'A', 1), (57, 'A', 0), (58, 'A', 1), (59, 'A', 1), (60, 'A', 0),
(61, 'A', 1), (62, 'A', 1), (63, 'A', 0), (64, 'A', 1), (65, 'A', 1),
(66, 'A', 0), (67, 'A', 1), (68, 'A', 1), (69, 'A', 0), (70, 'A', 1),
(71, 'A', 1), (72, 'A', 0), (73, 'A', 1), (74, 'A', 1), (75, 'A', 0),
(76, 'A', 1), (77, 'A', 1), (78, 'A', 0), (79, 'A', 1), (80, 'A', 1),
(81, 'A', 0), (82, 'A', 1), (83, 'A', 1), (84, 'A', 0), (85, 'A', 1),
(86, 'A', 1), (87, 'A', 0), (88, 'A', 1), (89, 'A', 1), (90, 'A', 0),
(91, 'A', 1), (92, 'A', 1), (93, 'A', 0), (94, 'A', 1), (95, 'A', 1),
(96, 'A', 0), (97, 'A', 1), (98, 'A', 1), (99, 'A', 0), (100, 'A', 1),

-- Setor B: 67 vagas ocupadas (67%)
(1, 'B', 1), (2, 'B', 1), (3, 'B', 1), (4, 'B', 0), (5, 'B', 1),
(6, 'B', 1), (7, 'B', 1), (8, 'B', 0), (9, 'B', 1), (10, 'B', 1),
(11, 'B', 1), (12, 'B', 0), (13, 'B', 1), (14, 'B', 1), (15, 'B', 1),
(16, 'B', 0), (17, 'B', 1), (18, 'B', 1), (19, 'B', 1), (20, 'B', 0),
(21, 'B', 1), (22, 'B', 1), (23, 'B', 1), (24, 'B', 0), (25, 'B', 1),
(26, 'B', 1), (27, 'B', 1), (28, 'B', 0), (29, 'B', 1), (30, 'B', 1),
(31, 'B', 1), (32, 'B', 0), (33, 'B', 1), (34, 'B', 1), (35, 'B', 1),
(36, 'B', 0), (37, 'B', 1), (38, 'B', 1), (39, 'B', 1), (40, 'B', 0),
(41, 'B', 1), (42, 'B', 1), (43, 'B', 1), (44, 'B', 0), (45, 'B', 1),
(46, 'B', 1), (47, 'B', 1), (48, 'B', 0), (49, 'B', 1), (50, 'B', 1),
(51, 'B', 1), (52, 'B', 0), (53, 'B', 1), (54, 'B', 1), (55, 'B', 1),
(56, 'B', 0), (57, 'B', 1), (58, 'B', 1), (59, 'B', 1), (60, 'B', 0),
(61, 'B', 1), (62, 'B', 1), (63, 'B', 1), (64, 'B', 0), (65, 'B', 1),
(66, 'B', 1), (67, 'B', 1), (68, 'B', 0), (69, 'B', 1), (70, 'B', 1),
(71, 'B', 1), (72, 'B', 0), (73, 'B', 1), (74, 'B', 1), (75, 'B', 1),
(76, 'B', 0), (77, 'B', 1), (78, 'B', 1), (79, 'B', 1), (80, 'B', 0),
(81, 'B', 1), (82, 'B', 1), (83, 'B', 1), (84, 'B', 0), (85, 'B', 1),
(86, 'B', 1), (87, 'B', 1), (88, 'B', 0), (89, 'B', 1), (90, 'B', 1),
(91, 'B', 1), (92, 'B', 0), (93, 'B', 1), (94, 'B', 1), (95, 'B', 1),
(96, 'B', 0), (97, 'B', 1), (98, 'B', 1), (99, 'B', 1), (100, 'B', 0),

-- Setor C: 23 vagas ocupadas (23%)
(1, 'C', 0), (2, 'C', 0), (3, 'C', 1), (4, 'C', 0), (5, 'C', 0),
(6, 'C', 0), (7, 'C', 1), (8, 'C', 0), (9, 'C', 0), (10, 'C', 0),
(11, 'C', 1), (12, 'C', 0), (13, 'C', 0), (14, 'C', 0), (15, 'C', 1),
(16, 'C', 0), (17, 'C', 0), (18, 'C', 0), (19, 'C', 1), (20, 'C', 0),
(21, 'C', 0), (22, 'C', 0), (23, 'C', 1), (24, 'C', 0), (25, 'C', 0),
(26, 'C', 0), (27, 'C', 1), (28, 'C', 0), (29, 'C', 0), (30, 'C', 0),
(31, 'C', 1), (32, 'C', 0), (33, 'C', 0), (34, 'C', 0), (35, 'C', 1),
(36, 'C', 0), (37, 'C', 0), (38, 'C', 0), (39, 'C', 1), (40, 'C', 0),
(41, 'C', 0), (42, 'C', 0), (43, 'C', 1), (44, 'C', 0), (45, 'C', 0),
(46, 'C', 0), (47, 'C', 1), (48, 'C', 0), (49, 'C', 0), (50, 'C', 0),
(51, 'C', 1), (52, 'C', 0), (53, 'C', 0), (54, 'C', 0), (55, 'C', 1),
(56, 'C', 0), (57, 'C', 0), (58, 'C', 0), (59, 'C', 1), (60, 'C', 0),
(61, 'C', 0), (62, 'C', 0), (63, 'C', 1), (64, 'C', 0), (65, 'C', 0),
(66, 'C', 0), (67, 'C', 1), (68, 'C', 0), (69, 'C', 0), (70, 'C', 0),
(71, 'C', 1), (72, 'C', 0), (73, 'C', 0), (74, 'C', 0), (75, 'C', 1),
(76, 'C', 0), (77, 'C', 0), (78, 'C', 0), (79, 'C', 1), (80, 'C', 0),
(81, 'C', 0), (82, 'C', 0), (83, 'C', 1), (84, 'C', 0), (85, 'C', 0),
(86, 'C', 0), (87, 'C', 1), (88, 'C', 0), (89, 'C', 0), (90, 'C', 0),
(91, 'C', 1), (92, 'C', 0), (93, 'C', 0), (94, 'C', 0), (95, 'C', 1),
(96, 'C', 0), (97, 'C', 0), (98, 'C', 0), (99, 'C', 1), (100, 'C', 0),

-- Setor D: 89 vagas ocupadas (89%)
(1, 'D', 1), (2, 'D', 1), (3, 'D', 1), (4, 'D', 1), (5, 'D', 1),
(6, 'D', 1), (7, 'D', 1), (8, 'D', 1), (9, 'D', 1), (10, 'D', 1),
(11, 'D', 1), (12, 'D', 1), (13, 'D', 1), (14, 'D', 1), (15, 'D', 1),
(16, 'D', 1), (17, 'D', 1), (18, 'D', 1), (19, 'D', 1), (20, 'D', 1),
(21, 'D', 1), (22, 'D', 1), (23, 'D', 1), (24, 'D', 1), (25, 'D', 1),
(26, 'D', 1), (27, 'D', 1), (28, 'D', 1), (29, 'D', 1), (30, 'D', 1),
(31, 'D', 1), (32, 'D', 1), (33, 'D', 1), (34, 'D', 1), (35, 'D', 1),
(36, 'D', 1), (37, 'D', 1), (38, 'D', 1), (39, 'D', 1), (40, 'D', 1),
(41, 'D', 1), (42, 'D', 1), (43, 'D', 1), (44, 'D', 1), (45, 'D', 1),
(46, 'D', 1), (47, 'D', 1), (48, 'D', 1), (49, 'D', 1), (50, 'D', 1),
(51, 'D', 1), (52, 'D', 1), (53, 'D', 1), (54, 'D', 1), (55, 'D', 1),
(56, 'D', 1), (57, 'D', 1), (58, 'D', 1), (59, 'D', 1), (60, 'D', 1),
(61, 'D', 1), (62, 'D', 1), (63, 'D', 1), (64, 'D', 1), (65, 'D', 1),
(66, 'D', 1), (67, 'D', 1), (68, 'D', 1), (69, 'D', 1), (70, 'D', 1),
(71, 'D', 1), (72, 'D', 1), (73, 'D', 1), (74, 'D', 1), (75, 'D', 1),
(76, 'D', 1), (77, 'D', 1), (78, 'D', 1), (79, 'D', 1), (80, 'D', 1),
(81, 'D', 1), (82, 'D', 1), (83, 'D', 1), (84, 'D', 1), (85, 'D', 1),
(86, 'D', 1), (87, 'D', 1), (88, 'D', 1), (89, 'D', 1), (90, 'D', 1),
(91, 'D', 1), (92, 'D', 1), (93, 'D', 1), (94, 'D', 1), (95, 'D', 1),
(96, 'D', 1), (97, 'D', 1), (98, 'D', 1), (99, 'D', 1), (100, 'D', 0);